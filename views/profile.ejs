<%- include('partials/header') %>

<h1>User Profile</h1>
<p>This page is protected. You can only see it if you are authenticated.</p>

<h2>Hello, <%= account.idTokenClaims.given_name || 'Guest' %>!</h2>
<p>Here are the details from your ID token:</p>

<ul>
    <li><strong>Name:</strong> <%= account.idTokenClaims.given_name || (account.idTokenClaims.name || 'unknown') %></li>
    
    <li><strong>Username (Email):</strong> <%= account.username %></li>
    
    <li><strong>Iss (Issuer):</strong> <%= account.idTokenClaims.iss %></li>
    <li><strong>Aud (Audience):</strong> <%= account.idTokenClaims.aud %></li>
    
    <li><strong>Home Object ID:</strong> <%= account.homeAccountId %></li>
</ul>

<h3>Full ID Token Claims (for debugging):</h3>
<pre><code><%- JSON.stringify(account.idTokenClaims, null, 2) %></code></pre>

<%- include('partials/footer') %>