<%- include('partials/header') %>

<h1>User Profile</h1>
<p>This page is protected. You can only see it if you are authenticated.</p>

<h2>Hello, <%= user.name %>!</h2>
<p>Here are the details from your ID token:</p>

<ul>
    <li><strong>Name:</strong> <%= user.name %></li>
    <li><strong>Username (Email):</strong> <%= user.username %></li>
    <li><strong>Iss (Issuer):</strong> <%= user.idTokenClaims.iss %></li>
    <li><strong>Aud (Audience):</strong> <%= user.idTokenClaims.aud %></li>
    <li><strong>Home Object ID:</strong> <%= user.homeAccountId %></li>
</ul>

<h3>Full ID Token Claims (for debugging):</h3>
<pre><code><%- JSON.stringify(user.idTokenClaims, null, 2) %></code></pre>

<%- include('partials/footer') %>